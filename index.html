<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Para Ti üíñ</title>

<style>
body{
    margin:0;
    font-family: Arial, sans-serif;
    background:black;
    height:100vh;
    overflow:hidden;
    display:flex;
    justify-content:center;
    align-items:center;
    flex-direction:column;
    text-align:center;
    color:white;
}

h1{
    font-size:40px;
    z-index:2;
}

button{
    padding:15px 30px;
    font-size:18px;
    margin:15px;
    border:none;
    border-radius:12px;
    cursor:pointer;
    position:relative;
    z-index:2;
}

#si{
    background-color:#ff2e63;
    color:white;
}

#no{
    background-color:#333;
    color:white;
    position:absolute;
}

#flash{
    position:fixed;
    width:100%;
    height:100%;
    background:white;
    top:0;
    left:0;
    opacity:0;
    pointer-events:none;
    transition:opacity 0.3s;
    z-index:999;
}

.foto{
    position:absolute;
    width:120px;
    border-radius:15px;
    cursor:pointer;
}

.corazon{
    position:fixed;
    color:#ff2e63;
    font-size:25px;
    animation: flotar 3s linear forwards;
    pointer-events:none;
}

@keyframes flotar{
    0%{ transform:translateY(0); opacity:1; }
    100%{ transform:translateY(-150px); opacity:0; }
}

.teamo{
    position:fixed;
    font-size:22px;
    font-weight:bold;
    color:white;
    opacity:0;
    animation: flotarTexto 3s ease-out forwards;
    pointer-events:none;
    text-shadow: 0 0 10px rgba(255,255,255,0.8);
}

@keyframes flotarTexto{
    0%{ opacity:0; transform:translateY(0px) scale(0.8); }
    30%{ opacity:1; }
    100%{ opacity:0; transform:translateY(-60px) scale(1.2); }
}

#score{
    position:fixed;
    top:10px;
    left:10px;
    font-size:22px;
    font-weight:bold;
    z-index:3;
}
</style>
</head>

<body>

<div id="flash"></div>

<h1>¬øPuedo ser tu San Valent√≠n amocito? üíò</h1>

<button id="si" onclick="aceptar()">S√≠ üíñ</button>
<button id="no" onmouseover="mover()">No jeje</button>

<div id="player"></div>

<script>

let player;
let volumen = 0;
let score = 0;
let velocidadBase = 2;
let fotos = [];

const idiomas = [
"Te amo","I love you","Je t‚Äôaime","Ti amo","Ich liebe dich",
"Eu te amo","ÊÑõ„Åó„Å¶„Çã","ÏÇ¨ÎûëÌï¥","ÊàëÁà±‰Ω†",
"–Ø —Ç–µ–±—è –ª—é–±–ª—é","Te iubesc","Ik hou van jou",
"Seni seviyorum","Min√§ rakastan sinua","Œ£‚Äô Œ±Œ≥Œ±œÄœé"
];

function onYouTubeIframeAPIReady() {
    player = new YT.Player('player', {
        height: '0',
        width: '0',
        videoId: 'FM7ALFsOH4g',
        playerVars: {
            'autoplay': 0,
            'controls': 0,
            'loop': 1,
            'playlist': 'FM7ALFsOH4g'
        }
    });
}

let tag = document.createElement('script');
tag.src = "https://www.youtube.com/iframe_api";
document.body.appendChild(tag);

function iniciarMusica(){
    player.playVideo();
    player.setVolume(0);

    let fade = setInterval(() => {
        volumen += 3;
        if(volumen >= 60){
            clearInterval(fade);
        }
        player.setVolume(volumen);
    }, 200);
}

function mover(){
    let boton = document.getElementById("no");
    let x = Math.random() * (window.innerWidth - 100);
    let y = Math.random() * (window.innerHeight - 50);
    boton.style.left = x + "px";
    boton.style.top = y + "px";
}

function aceptar(){

    const flash = document.getElementById("flash");

    // Ocultar pregunta y botones
    document.querySelector("h1").style.display = "none";
    document.getElementById("si").style.display = "none";
    document.getElementById("no").style.display = "none";

    // Flash blanco
    flash.style.opacity = "1";

    setTimeout(() => {
        flash.style.opacity = "0";
    }, 200);

    setTimeout(() => {

        // Cambiar fondo a rosa
        document.body.style.background = "linear-gradient(45deg, #ff758c, #ff7eb3)";

        // Crear marcador
        const marcador = document.createElement("div");
        marcador.id = "score";
        marcador.innerText = "Puntos: 0";
        document.body.appendChild(marcador);

        // Crear contenedor fotos
        const contenedor = document.createElement("div");
        contenedor.id = "contenedorFotos";
        document.body.appendChild(contenedor);

        // Texto central
        const texto = document.createElement("h1");
        texto.innerHTML = "Te amo infinitamenteüíñ<br>y eternamente‚ù§Ô∏è";
        texto.style.position = "fixed";
        texto.style.top = "50%";
        texto.style.left = "50%";
        texto.style.transform = "translate(-50%,-50%)";
        document.body.appendChild(texto);

        iniciarMusica();
        generarFotos();
        generarCorazones();
        setInterval(generarTeAmos, 800);

    }, 300);
}

function generarFotos(){

    const contenedor = document.getElementById("contenedorFotos");

    for(let i=1; i<=15; i++){

        let img = document.createElement("img");
        img.src = "Foto" + i + ".jpg";
        img.className = "foto";

        img.style.left = Math.random() * window.innerWidth + "px";
        img.style.top = Math.random() * window.innerHeight + "px";

        let dx = (Math.random() * velocidadBase) + 1;
        let dy = (Math.random() * velocidadBase) + 1;

        img.onclick = () => {
            score++;
            document.getElementById("score").innerText = "Puntos: " + score;

            velocidadBase += 0.2;

            crearCorazon(img.offsetLeft, img.offsetTop);

            img.remove();
            respawnFoto(contenedor);
        };

        contenedor.appendChild(img);

        moverFoto(img, dx, dy);
    }
}

function moverFoto(img, dx, dy){

    function animar(){
        let x = img.offsetLeft + dx;
        let y = img.offsetTop + dy;

        if(x + img.width >= window.innerWidth || x <= 0) dx = -dx;
        if(y + img.height >= window.innerHeight || y <= 0) dy = -dy;

        img.style.left = x + "px";
        img.style.top = y + "px";

        requestAnimationFrame(animar);
    }

    animar();
}

function respawnFoto(contenedor){

    let img = document.createElement("img");
    img.src = "Foto" + (Math.floor(Math.random()*15)+1) + ".jpg";
    img.className = "foto";

    img.style.left = Math.random() * window.innerWidth + "px";
    img.style.top = Math.random() * window.innerHeight + "px";

    let dx = (Math.random() * velocidadBase) + 1;
    let dy = (Math.random() * velocidadBase) + 1;

    img.onclick = () => {
        score++;
        document.getElementById("score").innerText = "Puntos: " + score;

        velocidadBase += 0.2;

        crearCorazon(img.offsetLeft, img.offsetTop);

        img.remove();
        respawnFoto(contenedor);
    };

    contenedor.appendChild(img);
    moverFoto(img, dx, dy);
}

function crearCorazon(x,y){
    let corazon = document.createElement("div");
    corazon.className = "corazon";
    corazon.innerHTML = "üíñ";
    corazon.style.left = x + "px";
    corazon.style.top = y + "px";
    document.body.appendChild(corazon);

    setTimeout(()=>{ corazon.remove(); },3000);
}

function generarCorazones(){
    setInterval(()=>{
        let corazon = document.createElement("div");
        corazon.className = "corazon";
        corazon.innerHTML = "üíó";
        corazon.style.left = Math.random()*window.innerWidth+"px";
        corazon.style.top = window.innerHeight+"px";
        document.body.appendChild(corazon);

        setTimeout(()=>{ corazon.remove(); },3000);
    },500);
}

function generarTeAmos(){
    const frase = document.createElement("div");
    frase.className = "teamo";
    frase.innerText = idiomas[Math.floor(Math.random() * idiomas.length)];
    frase.style.left = Math.random() * window.innerWidth + "px";
    frase.style.top = Math.random() * window.innerHeight + "px";
    document.body.appendChild(frase);

    setTimeout(()=>{ frase.remove(); },3000);
}

</script>

</body>
</html>

